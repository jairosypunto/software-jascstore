{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inicio</title>

    <!-- üé® Estilos base -->
    <link rel="stylesheet" href="{% static 'home/css/bootstrap.css' %}" />

    <!-- üé® Estilos del navbar -->
    <link rel="stylesheet" href="{% static 'home/css/navbar.css' %}" />

    <!-- üé® Estilos de productos (reutilizados desde tienda) -->
    <link rel="stylesheet" href="{% static 'store/css/estilos_productos_tienda.css' %}" />

    <!-- üß™ Estilos m√≠nimos para validar visualizaci√≥n de im√°genes -->
    <style>
      .product-grid img {
        width: 100%;
        height: auto;
        display: block;
        border: 1px solid #ccc;
      }
    </style>
  </head>
  <body>
    <!-- üîó Navbar con logo, b√∫squeda y navegaci√≥n -->
    {% include 'home/navbar.html' with links=links %}

    <!-- üìå Opciones de ordenamiento -->
    <div class="container mt-3 text-end">
      <a href="?order=name" class="btn btn-outline-primary btn-sm">Ordenar por nombre</a>
      <a href="?order=price" class="btn btn-outline-secondary btn-sm">Ordenar por precio</a>
    </div>

    <!-- üõçÔ∏è Grid de productos debajo del mensaje de bienvenida -->
    <div class="container mt-4">
      <div class="row">
        {% for product in products %}
        <div class="col-md-3 mb-4">
          <div class="card product-grid">
            <a href="#" class="img-wrap">
              <!-- ‚úÖ Imagen del producto -->
              <img src="{{ product.image.url }}" alt="{{ product.name }}" />
            </a>
            <figcaption class="info-wrap p-2">
              <!-- üè∑Ô∏è Nombre del producto -->
              <a href="#" class="title-product"> {{ product.name }} </a>
              <!-- üí∞ Precio -->
              <div class="price mt-1">${{ product.cost|floatformat:0 }}</div>
            </figcaption>
          </div>
        </div>
        {% empty %}
        <!-- üßæ Mensaje si no hay productos -->
        <div class="col-12 text-center">
          <p>No hay productos disponibles en este momento.</p>
        </div>
        {% endfor %}
      </div>
    </div>

    <script>
  // ‚úÖ Env√≠a el formulario al cambiar categor√≠a
  document.getElementById('searchCategory').addEventListener('change', function () {
    this.form.submit();
  });

  // ‚úÖ Env√≠a el formulario al cambiar ordenamiento
  document.getElementById('searchOrder').addEventListener('change', function () {
    this.form.submit();
  });
</script>

    <!-- üß† Script JS para interacciones -->
    <script src="{% static 'home/js/home.js' %}"></script>
  </body>
</html>